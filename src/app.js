// TODO    IMPORT  _________________________________________________________________________________________________________________________________
const express = require('express');
const path = require('path');
const hbs = require('hbs')
require('./db/conn')
// const User = require('./models/usermessage')

// TODO  ___________________________________________________________________________________________________________________________________________

// ~ App variable created _____________________________________________________________________________________________________________________________________________
const app = express();
// ~ _____________________________________________________________________________________________________________________________________________

// ^    PORT (initialize)   ____________________________________________________________________________________________________________________________________
const port = process.env.PORT || 3000;
// ^  _____________________________________________________________________________________________________________________________________________

// *    STATIC way   ____________________________________________________________________________________________________________________________________
const static_path = path.join(__dirname,'../public')
const views_path = path.join(__dirname,'../template/views')
const partials_path = path.join(__dirname,'../template/partials')

// ? Including Bootstrap
// app.use('/css',express.static(path.join(__dirname,'../node_modules/bootstap/dist/css/')))
// app.use('/js',express.static(path.join(__dirname,'../node_modules/bootstap/dist/js/')))
// app.use('/jq',express.static(path.join(__dirname,'../node_modules/jquery/dist/')))

// ~ Middle ware 
// app.use(express.static(static_path))

app.use(express.static({extended:false}))
// *  _____________________________________________________________________________________________________________________________________________




// ^    VIEW Engine  (app.set) ____________________________________________________________________________________________________________________________________
app.set('view engine','hbs');
app.set("views",views_path)
// ^  _____________________________________________________________________________________________________________________________________________


// *    Partial REgister ____________________________________________________________________________________________________________________________________
    // hbs.registerPartials(partials_path);
// *  _____________________________________________________________________________________________________________________________________________



// ^    Route   ____________________________________________________________________________________________________________________________________
app.get('/',(req,res)=>{
    res.render('index.hbs')
})
// ^  _____________________________________________________________________________________________________________________________________________



// ^   POST   ____________________________________________________________________________________________________________________________________
// app.post("/",async(req,res)=>{
//     try{
//         res.send(req.body);
//     }catch(error){
//         res.status(500).send(error);
//     }
// })
// ^  _____________________________________________________________________________________________________________________________________________



// ^    PORT (Listen)   ____________________________________________________________________________________________________________________________________
app.listen(port,()=>{
console.log(`SErver is Running at Port ${port}`);  
})
// ^  _____________________________________________________________________________________________________________________________________________

